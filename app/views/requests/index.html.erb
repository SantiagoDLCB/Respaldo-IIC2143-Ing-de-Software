<div class="columns">
<div class="column is-half is-offset-one-quarter has-text-centered"> 
  <% if current_user.has_role?(:admin_initiative, @initiative) %>
    <br><h2 style="text-align: center;">Solicitudes de unión <%= @initiative.name %></h2><br/>

        <% if @active_requests.present? %>
            <ul style="list-style-type: none; padding: 0;">
                <% @active_requests.each do |request| %>
                    <li style="margin-bottom: 10px;">
                        <div style="display: flex; align-items: center;">
                            <span style="margin-right: 10px;"><h5><%= request.user.name %>  <%=request.user.last_name %></h5></span>
                            
                            <%= button_to "Aceptar",  request_path(request), method: :patch, params: { request: {status: :accepted} },style: "padding: 5px 10px; background-color: #4CAF50; color: white; border: none; border-radius: 5px;", remote: true %>
                            <%= button_to "Rechazar", request_path(request), method: :patch, params: { request: {status: :denied} }, method: :patch, style: "padding: 5px 10px; background-color: #f44336; color: white; border: none; border-radius: 5px; margin-left: 5px;", remote: true %>
                            
                        </div>
                    </li>
                <% end %>
            </ul>
        <% else %>
            <h3>No hay solicitudes.</h3>
        <% end %>
    </ul>
  <% else %>
      <h1 style="text-align: center;">No tienes permisos para ver esta página</h1>
  <% end %>

  <br/>
  <!-- Botón en el centro para volver a la iniciativa -->
  <button onclick="window.location.href = '<%= initiative_path(@initiative) %>';" class="button is-primary">Volver a <%= @initiative.name %></button>
</div>
</div>

